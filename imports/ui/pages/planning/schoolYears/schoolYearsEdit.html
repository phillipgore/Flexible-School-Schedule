<template name="schoolYearsEdit">
	
	<main class="app-content app-content-preceeds-toolbar app-content-form">
		<form class="js-form-school-year-edit row" novalidate>
			<div class="row m-tn-b-6">
				<div class="col-tn-1of2 p-tn-r-3">
					<label>Start Year</label>
					<input class="js-start-year" type="text" name="startYear" id="start-year" placeholder="2020" autocomplete="off" maxlength="4" value="{{schoolYear.startYear}}">
					<label class="error js-start-year-errors"></label>
				</div>
				<div class="col-tn-1of2 p-tn-l-3">
					<label>End Year</label>
					<input class="js-end-year" type="text" name="endYear" id="end-year" placeholder="2021" autocomplete="off" maxlength="4" value="{{schoolYear.endYear}}">
					<label class="error js-end-year-errors"></label>
				</div>
			</div>

			<div class="well bg-gray-lighter m-tn-b-18">
				<div class="row">
					<label class="col-tn-3of11">Terms</label>
					<label class="col-tn-8of11">Total Weeks: <span class="js-total">{{schoolYear.weeksPerYear}}</span></label>
				</div>
				<div class="js-term-inputs m-tn-b-neg-6">
					{{#each localTerm in localTerms}}
						<div id="{{localTerm.id}}" class="js-term-input row">
							<div class="font-weight-400 col-tn-3of11 p-tn-t-9 p-tn-r-6">
								Term {{indexIncrement @index}}:
							</div>
							<div class="col-tn-8of11 pos-relative p-tn-r-36">
								<input class="js-term-order" type="hidden" name="order" id="js-term-order" value="{{indexIncrement @index}}">
								<input class="js-weeks-per-term {{#unless localTerm.isNew}}js-existing{{/unless}}" type="text" name="weeksPerTerm{{indexIncrement @index}}" id="weeks-per-term" placeholder="12" autocomplete="off" maxlength="2" min="1" value="{{localTerm.weeksPerTerm}}">
								<label class="error js-weeks-per-term-errors"></label>
								<span class="pos-absolute pos-top-right p-tn-t-3">
									{{#if localTerm.isDeletable}}
										<a href="#" id="{{localTerm._id}}" class="js-term-delete btn btn-circle btn-secondary fl-tn-right" tabindex="-1">
											<i class="icn-close"></i>
										</a>
									{{else}}
										<a id="{{localTerm.undeletableLessonCount}}" href="#" class="js-term-delete-disabled btn btn-circle btn-gray-dark fl-tn-right" tabindex="-1">
											<i class="icn-close"></i>
										</a>
									{{/if}}
									<div class="font-weight-400 txt-gray-darker fl-tn-right p-tn-t-6 p-tn-r-15">Weeks</div>
								</span>
							</div>
						</div>
					{{/each}}
				</div>
			</div>

			<div class="well bg-info m-tn-b-9 txt-white">
				<div class="well-icon"><i class="icn-info"></i></div>
				<div class="well-message">
					<p>Changing the number of Weeks for an existing Term will cause the School Work times within those Terms to be distributed evenly across the remaining Weeks.</p>
				</div>
			</div>
			<div class="js-new-warning well bg-info m-tn-b-18 txt-white">
				<div class="well-icon"><i class="icn-info"></i></div>
				<div class="well-message">
					<p>Existing School Work times will not be distributed across newly created Weeks.</p>
				</div>
			</div>

			<footer class="toolbar toolbar-bottom toolbar-gray">
				<a href="#" class="js-cancel btn btn-gray-darker fl-tn-left">Cancel</a>
				<button type="submit" class="js-submit fl-tn-right">Update</button>
			</footer>
		</form>
	</main>
	{{#unless subscriptionReady}}
		{{> loading}}
	{{/unless}}
	{{> updating}}
</template>