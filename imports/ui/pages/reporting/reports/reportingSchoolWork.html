<template name="reportingSchoolWork">
	{{#if report.schoolWorkReportVisible}}
		{{#if schoolWork.count}}
			{{#each work in schoolWork}}
				<table class="page-break-inside-avoid">
					<tr>
						<th width="50%">
							<p><i class="icn-school-work"></i> {{work.name}}</p>
						</th>
						<th width="50%">
							{{#if report.schoolWorkProgressVisible}}
								<div class="meter meter-report">
								<div class="meter-progress {{#if work.progressComplete}}meter-progress-primary{{/if}}" style="width: {{work.progress}}%;">
									<div class="meter-label">Progress: {{work.progress}}%</div>
								</div>
								<div class="meter-label">Progress: {{work.progress}}%</div>
							</div>
							{{/if}}
						</th>
					</tr>
					{{#if report.schoolWorkDescriptionVisible}}
						{{#if work.description}}
							<tr>
								<td colspan="2">
									{{{work.description}}}
								</td>
							</tr>
						{{/if}}
					{{/if}}
					<tr class="{{rowVisible report.schoolWorkStatsVisible report.schoolWorkTimesVisible}}">
						{{#if report.schoolWorkStatsVisible}}
							<td colspan="{{colSpan report.schoolWorkStatsVisible report.schoolWorkTimesVisible}}">
								<span class="txt-gray-darkest">Terms: </span>{{work.termCount}}
							</td>
						{{/if}}
						{{#if report.schoolWorkTimesVisible}}
							<td colspan="{{colSpan report.schoolWorkStatsVisible report.schoolWorkTimesVisible}}">
								<span class="txt-gray-darkest">Total Segments: </span>{{work.totalTime}}
							</td>
						{{/if}}
						
					</tr>
					<tr class="{{rowVisible report.schoolWorkStatsVisible report.schoolWorkTimesVisible}}">
						{{#if report.schoolWorkStatsVisible}}
							<td colspan="{{colSpan report.schoolWorkStatsVisible report.schoolWorkTimesVisible}}">
								<span class="txt-gray-darkest">Weeks: </span>{{work.weekCount}}
							</td>
						{{/if}}
						{{#if report.schoolWorkTimesVisible}}
							<td colspan="{{colSpan report.schoolWorkStatsVisible report.schoolWorkTimesVisible}}">
								<span class="txt-gray-darkest">Avg / Week: </span>{{work.averageWeeks}}
							</td>
						{{/if}}
						
					</tr>
					<tr class="{{rowVisible report.schoolWorkStatsVisible report.schoolWorkTimesVisible}}">
						{{#if report.schoolWorkStatsVisible}}
							<td colspan="{{colSpan report.schoolWorkStatsVisible report.schoolWorkTimesVisible}}">
								<span class="txt-gray-darkest">Segments: </span>{{work.lessonCount}}
							</td>
						{{/if}}
						{{#if report.schoolWorkTimesVisible}}
							<td colspan="{{colSpan report.schoolWorkStatsVisible report.schoolWorkTimesVisible}}">
								<span class="txt-gray-darkest">Avg / Segment: </span>{{work.averageLessons}}
							</td>
						{{/if}}
					</tr>
					{{#if report.schoolWorkResourcesVisible}}
						{{#if work.resources.length}}
							<tr>
								<td colspan="2">
									{{#each resource in work.resources}}
										{{#if resourceType resource.type 'link'}}
											<p class="m-tn-tb-3"><i class="{{resourceIcon resource.type}} txt-primary"></i>
												{{resource.title}} <a href="{{resource.link}}">(link)</a>
											</p>
											<p class="print-only-block m-tn-tb-3">{{resource.link}}</p>
										{{else}}
											<p class="m-tn-tb-3"><i class="{{resourceIcon resource.type}} txt-primary"></i>{{resource.title}}</p>
										{{/if}}
									{{/each}}
								</td>
							</tr>
						{{/if}}
					{{/if}}
				</table>

				{{#if report.timesPerWeekReportVisible}}
					{{#each term in terms}}
						<table class="nested">
							{{#each week in termWeeks term._id}}
								<tr>
									<th colspan="3" class="font-weight-500">Term {{term.order}}: Week {{week.order}}</th>
									<th colspan="2">
										{{#if report.timesPerWeekProgressVisible}}
											<div class="meter meter-report">
												<div class="meter-progress {{#if progressComplete week.lessonData work._id}}meter-progress-primary{{/if}}" style="width: {{progress week.lessonData work._id}}%;">
													<div class="meter-label">Progress: {{progress week.lessonData work._id}}%</div>
												</div>
												<div class="meter-label">Progress: {{progress week.lessonData work._id}}%</div>
											</div>
										{{/if}}
									</th>
								</tr>
								<tr>
									<th class="cell-tn-w-10 cell-lg-w-5"></th>
									<th class="cell-lg-w-10 font-weight-500">
										<div class="txt-ellipsis txt-tn-center">Segment</div>
									</th>
									<th class="cell-tn-w-10 font-weight-500">
										<div class="txt-ellipsis txt-tn-center">Date</div>
									</th>
									<th class="cell-tn-w-10 font-weight-500">
										<div class="txt-ellipsis txt-tn-center">Time</div>
									</th>
									<th class="cell-tn-w-60 cell-lg-w-65 font-weight-500">
										<div class="txt-ellipsis">Description</div>
									</th>
								</tr>
								{{#each lesson in schoolWorkLessons week.lessonData work._id}}
									<tr>
										<td class="txt-tn-center">
											{{#if lesson.completed}}
												<img class="img-tn-16" src="/img/checkbox-btn-checked.svg">
											{{else}}
												<img class="img-tn-16" src="/img/checkbox-btn.svg">
											{{/if}}
										</td>
										<td class="txt-tn-center">{{lesson.order}}</td>
										<td class="txt-tn-center">
											{{#if lesson.completedOn.length}}
												{{shortDateFormat lesson.completedOn}}
											{{/if}}
										</td>
										<td class="txt-tn-center">
											{{#if lesson.completionTime}}
												{{lesson.completionTime}} min
											{{/if}}
										</td>
										<td>
											{{#if lesson.description.length}}
												{{{lesson.description}}}
											{{/if}}
										</td>
									</tr>
								{{/each}}
							{{/each}}
						</table>
					{{/each}}
				{{/if}}
			{{/each}}
		{{else}}
			<p class="m-tn-b-18"><i class="icn-school-work"></i> No School Work</p>
		{{/if}}
	{{/if}}
</template>




















